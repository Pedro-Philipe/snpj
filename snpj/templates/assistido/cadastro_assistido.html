{% extends "base.html" %}
{% load widget_tweaks %}
{% block content %}
    <div class="container">
        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <h2 align="center"><strong> Assistido </strong></h2>
            <br/>

            <div class="form-group">
                <div class="col-sm-7">
                    <label for="{{ form.cpf.id_for_label }}" class="required">Cpf</label>
                    {% render_field form.cpf class="form-control cpf" %} {% if form.cpf.errors %}
                    <div class="alert alert-danger">
                        {{ form.cpf.errors }}
                    </div>
                    {% endif %}
                </div>
            </div>

            <div class="form-group">
                <div class="col-sm-7">
                    <label for="{{ form.nome_assistido.id_for_label }}" class="required">Nome Completo</label>
                    {% render_field form.nome class="form-control" maxlength=200 %} {{ form.nome.errors }}
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-7">
                    <label for="{{ form.representante_legal.id_for_label }}">Representante Legal</label>
                    {% render_field form.representante_legal class="form-control" %} {{ form.representante_legal.errors }}
                </div>
            </div>

            <div class="form-group">
                <div class="col-sm-7">
                    <label for="{{ form.rg.id_for_label }}" class="required">RG</label>
                    {% render_field form.rg class="form-control rg" maxlength=7 %} {% if form.rg.errors %}
                    <div class="alert alert-danger">
                        {{ form.rg.errors }}
                    </div>
                    {% endif %}
                </div>
            </div>

            <div class="form-group">
                <div class="col-sm-7">
                    <label for="{{ form.nacionalidade.id_for_label }}" class="required">Nacionalidade</label>
                    {% render_field form.nacionalidade class="form-control" %} {{ form.nacionalidade.errors }}
                </div>
            </div>

            <div class="form-group">
                <div class="col-sm-7">
                    <label for="{{ form.estado_civil.id_for_label }}" class="required">Estado Civil</label>
                    {% render_field form.estado_civil class="form-control" %} {{ form.estado_civilerrors }}
                </div>
            </div>

            <div class="form-group">
                <div class="col-sm-7">
                    <label for="{{ form.profissao.id_for_label }}" class="required">Profissão</label>
                    {% render_field form.profissao class="form-control" %} {{ form.profissao.errors }}
                </div>
            </div>

            <div class="form-group">
                <div class="col-sm-7">
                    <label for="{{ form.renda_familiar.id_for_label }}" class="required">Renda Familiar</label>
                    {% render_field form.renda_familiar class="form-control renda" %} {{ form.renda_familiar.errors }}
                </div>
            </div>

            <div class="form-group">
                <div class="col-sm-7">
                    <label for="{{ form.endereco_residencial.id_for_label }}" class="required">Endereço</label>
                    {% render_field form.endereco_residencial class="form-control" %} {{ form.endereco_residencial.errors }}
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-7">
                    <label for="{{ form.endereco_trabalho.id_for_label }}">Endereço do Trabalho</label>
                    {% render_field form.endereco_trabalho class="form-control" %} {{ form.endereco_trabalho.errors }}
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-7">
                    <label for="{{ form.cep.id_for_label }}" class="required">CEP</label>
                    {% render_field form.cep class="form-control cep" %} {{ form.cep.errors }}
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-7">
                    <label for="{{ form.telefone_celular.id_for_label }}" class="required">Celular</label>
                    {% render_field form.telefone_celular class="form-control telefone" %} {{ form.telefone_celular.errors }}
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-7">
                    <label for="{{ form.telefone_fixo.id_for_label }}">Telefone Fixo</label>
                    {% render_field form.telefone_fixo class="form-control telefone" %} {{ form.telefone_fixo.errors }}
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-7">
                    <label for="{{ form.telefone_comercial.id_for_label }}">Telefone Comercial</label>
                    {% render_field form.telefone_comercial class="form-control telefone" %} {{ form.telefone_comercial.errors }}
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-7">
                    <label for="{{ form.email.id_for_label }}">Email</label>
                    {% render_field form.email class="form-control" %} {{ form.email.errors }}
                </div>
            </div>

            <div class="form-group">
                <div class="col-sm-7">
                    <label for="{{ form.observacoes.id_for_label }}" class="required"> Observação </label>
                    {% render_field form.observacoes class="form-control" %} {{ form.observacoes.errors }}
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-7">
                    <label for="{{ form.documentos.id_for_label }}" class="required">Anexar Documentos Pessoais : </label>

                    {% if form.documentos.value %}
                    <p><a href="{{ form.documentos.value.url }}">Baixar arquivo atual</a></p>
                    <p>{% render_field form.documentos %}</p>
                    {% else %}
                    <p>{% render_field form.documentos %}</p>
                    {% endif %}

                    {{ form.documentos.errors }}
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-7" align="center">
                    <br/>
                    <input type="submit" class="btn btn-success btn-lg center-block" value="Salvar">
                </div>
            </div>
            <br/>
        </form>
    </div>
{% endblock content %}

{% block js %}
    {% verbatim %}
    <script type="text/javascript">
        $(document).ready(function () {
            $(".form-horizontal").submit(function () {
                $(".cpf").formatter().resetPattern('{{99999999999}}');
                $(".cep").formatter({
                    'pattern': '{{99}}.{{999}}-{{999}}',
                    'persistent': false,
                });
                $(".telefone").mask('(00)00000-0000');
            });
        });
    </script>
    {% endverbatim %}
{% endblock js %}
